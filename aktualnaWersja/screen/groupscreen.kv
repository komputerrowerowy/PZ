<GroupScreen>:
    id: groupScreen
    name: 'groupScreen'
    orientation: 'vertical'
    RelativeLayout:
        Scatter:
            height: root.height
            width: root.width
            id: scatter2
            RelativeLayout:
                id: relativeMap
                height: ((root.height * root.height) + (root.width * root.width))**0.5
                width: ((root.height * root.height) + (root.width * root.width))**0.5
                pos: (-((((root.height * root.height) + (root.width * root.width))**0.5) - root.width))/2, (-((((root.height * root.height) + (root.width * root.width))**0.5) - root.height))/2
                MapView:
                    height: root.height
                    width: root.width
                    pos_hint: {'center_x':.5,'center_y':.5}
                    id: mapView
                    marker_list: []
                    lat: 53.0102
                    lon: 18.5946
                    zoom: 14
                    node: []
                    MapMarker:
                        id: marker
                        lat: 53.0102
                        lon: 18.5946
                    MapMarker:
                        id: marker2
                    MapMarker:
                        id: marker_trasa_1
                    MapMarker:
                        id: marker_trasa_2
    BoxLayout:
        orientation: 'vertical'
        size_hint: 1, 1
        Label:
            id: label_instruction
            size_hint: 1, 0.075
            canvas.before:
                Color:
                    rgba: 0.235, 0.529, 0.572, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
            color: 1, 1, 1, 1
            font_size: self.height / 3
            text: ''
        BoxLayout:
            id: SearchLayout
            orientation: 'horizontal'
            size_hint: 1, 0.075
            valign: 'top'

            Button:
                id: BtnX
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, 1
                size_hint_x: 0.1
                text: ''
                on_release: root.ZerujTrase()
                Image:
                    id: img_tempasdad
                    center_x: self.parent.center_x
                    center_y: (self.parent.center_y - (self.parent.height/2)* 0.8)
                    source: 'resources/remove.png'
                    height: self.parent.height * 0.8

            TextInput:
                id: SearchInput
                background_color: 1,1,1,1
                text: ''
                multiline: False
                size_hint_x: 0.7

            Button:
                #text: "Szukaj"
                id: SearchLocation
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, 1
                size_hint_x: 0.2
#                on_release: root.calculate_route_nodes_run_add()
                on_release: root.centerTarget()
                Image:
                    id: sdasd
                    center_x: self.parent.center_x
                    center_y: (self.parent.center_y - (self.parent.height/2))
                    source: 'resources/search.png'
                    height: self.parent.height

        BoxLayout:
            id: SearchInputShow
            orientation: 'horizontal'
            size_hint: 1, 0.045
#            Button:
#                id: BtnX
#                background_normal: ''
#                background_color: 0.235, 0.529, 0.572, .7
#                size_hint_x: 0.5
#                text: 'X'
#                on_release: root.ZerujTrase()

            Button:
                id: BtnBike
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, .7
                size_hint_x: 0.15
                text: ''
                on_release: root.TypeBikeBike()
                Image:
                    id: img_Bike
                    center_x: self.parent.center_x
                    center_y: (self.parent.center_y - (self.parent.height/2)* 0.8)
                    source: 'resources/bikeicon.png'
                    height: self.parent.height * 0.8
            Button:
                id: BtnMTB
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, .7
                size_hint_x: 0.15
                text: ''
                on_release: root.TypeBikeMtb()
                Image:
                    id: img_Mtb
                    center_x: self.parent.center_x
                    center_y: (self.parent.center_y - (self.parent.height/2)* 0.8)
                    source: 'resources/mtbicon.png'
                    height: self.parent.height * 0.8
            Button:
                id: BtnV
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, .7
                size_hint_x: 0.55
                text: ''
                on_release: root.show_list_points()
                Image:
                    id: img_tempasdsd
                    center_x: (self.parent.center_x - (self.parent.width/6))
                    center_y: (self.parent.center_y - (self.parent.height/2))
                    source: 'resources/down.png'
                    height: self.parent.height

            Button:
                id: BtnO
                size_hint_x: 0.15
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, .7
                text: ''
                on_release: root.fileSelect()
                Image:
                    id: img_folder
                    center_x: self.parent.center_x
                    center_y: (self.parent.center_y - (self.parent.height/2)* 0.8)
                    source: 'resources/folder.png'
                    height: self.parent.height * 0.8
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 0.555
#            ScrollView:
#                id: scrollPoints2
#                size_hint: 1, 1
#                size_x: root.width
            GridLayout:
                id: scrollPoints
                size_hint: 1, 1
                canvas:
                    Color:
                        rgba: 0, 0, 0, 0
                    Rectangle:
                        pos: self.pos
                        size: self.size
                padding: .2
                cols: 4
                size_hint_y: None
                row_force_default: True
                row_default_height: root.height/20
            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 0.95

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.05
            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 0.95
            BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 0.95
                Label:
                    color: 1,1,1,.7
                    font_size: self.height / 2
                    text: '© OpenStreetMap and contributors'
                Label:

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.1
            valign: 'bottom'
            BoxLayout:
                orientation: 'vertical'
                size_hint: .33, 1
                Label:
                    id:label_speed2
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .7
                    font_size: self.height / 1.5
                    color: 1, 1, 1, 1
                Label:
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .2
                    font_size: self.height
                    text: "Prędkość"
                    color: 1, 1, 1, 1
                Label:
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .1
                    font_size: self.height
                    text: ""
                    color: 1, 1, 1, 1
            BoxLayout:
                orientation: 'vertical'
                size_hint: .33, 1
                Label:
                    id:label_distance
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .7
                    font_size: self.height / 1.5
                    color: 1, 1, 1, 1
                Label:
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .2
                    font_size: self.height
                    text: "Dystans"
                    color: 1, 1, 1, 1
                Label:
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .1
                    font_size: self.height
                    text: ""
                    color: 1, 1, 1, 1
            BoxLayout:
                orientation: 'vertical'
                size_hint: .33, 1
                Label:
                    id:label_calories
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size

                    size_hint: 1, .7
                    font_size: self.height / 1.5
                    color: 1, 1, 1, 1
                Label:
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .2
                    font_size: self.height
                    text: "Kalorie"
                    color: 1, 1, 1, 1
                Label:
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, .3
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint: 1, .1
                    font_size: self.height
                    text: ""
                    color: 1, 1, 1, 1

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.1
            valign: 'bottom'
#            Button:
#                size_hint_x: 0.5
#                #opacity: 0.5
#                background_normal: ''
#                background_color: 0.235, 0.529, 0.572, .6
#                halign: 'left'
#                text: ''
#                text_size: img_alert.size
#                on_release: root.rotate()
#                Image:
#                    id: img_alert
#                    center_x: self.parent.center_x
#                    name: 'alert'
#                    source: 'resources/rotation.png'
#                    height: self.parent.height

            Button:
                size_hint_x: 0.5
                #opacity: 0.5
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, .7
                halign: 'right'
                text: ''
                on_release: root.centerMy()
                #root.test111()
                #on_release: root.parent.parent.parent.check("881689020", "Testowy SMS")
                Image:
                    id: img_center
                    center_x: self.parent.center_x
                    name: 'alert'
                    source: 'resources/center.png'
                    height: self.parent.height
#                Label:
#                    id: label1
#                    text: "0"
            Button:
                size_hint_x: 0.5
                #opacity: 0.5
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, .7
                halign: 'right'
                text: ''
#                on_release: root.calculate_route_nodes_run_add()
                on_release: root.navi()
                #on_release: root.calculate_route_nodes(53.0102, 18.5946, 52.9828, 18.5729)
                text_size: img_temp.size
                Image:
                    id: img_navi
                    center_x: self.parent.center_x
                    source: 'resources/route.png'
                    height: self.parent.height

            Button:
                size_hint_x: 0.5
                #opacity: 0.5
                background_normal: ''
                background_color: 0.235, 0.529, 0.572, .7
                halign: 'right'
                text: ''
                on_release: root.show_search_bar()
                #on_release: root.calculate_route_nodes(53.0102, 18.5946, 52.9828, 18.5729)
                text_size: img_temp.size
                Image:
                    id: img_temp
                    center_x: self.parent.center_x
                    source: 'resources/search.png'
                    height: self.parent.height



<ChooseFile>:
    canvas.before:
        Color:
            rgba: 0.235, 0.529, 0.572, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserIconView:
            size_hint_y: .85
            id: filechooser
        #color: 0.521, 0.521, 0.513, 1

        BoxLayout:
            size_hint_y: .15
            canvas.before:
                Color:
                    rgb: 0.235, 0.529, 0.572
                Rectangle:
                    pos: self.pos
                    size: self.size
            Button:
                color: 0.235, 0.529, 0.572, 1
                #text: "Zamknij"
                background_normal: ''
                background_color: 1,1,1,1
                on_release: root.cancel()
                Image:
                    id: anulujbtn
                    center_x: self.parent.center_x
                    center_y: (self.parent.center_y)
                    source: 'resources/anuluj.png'
                    height: self.parent.height

            Button:
                color: 0.235, 0.529, 0.572, 1
                #text: "Wybierz folder"
                background_normal: ''
                background_color: 1,1,1,1
                on_release: root.select(filechooser.path)
                Image:
                    id: okbtn
                    center_x: self.parent.center_x
                    center_y: (self.parent.center_y)
                    source: 'resources/ok.png'
                    height: self.parent.height